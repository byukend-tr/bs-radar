<!doctype html>
<html>
  <head>
    <title>nebula-loader</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes">
    <script src="../../webcomponentsjs/webcomponents-loader.js"></script>
    <link rel="import" href="../../polymer/lib/elements/dom-bind.html">
    <link rel="import" href="../../nebula-icons/nebula-icons.html">
    <link rel="import" href="../nebula-loader.html">
    <custom-style>
      <style>
        body {
          font-family: sans-serif;
          font-size: 14px;
          margin: 0;
          padding: 16px;
          background-color:white;          
        }
        demo-snippet {
          display: block;
          box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12), 0 3px 1px -2px rgba(0, 0, 0, 0.2);
          padding: 8px 16px;
          margin-bottom: 40px;
        }
        .demo2 {
          --nebula-loader-background-color: black;
          --nebula-loader-border-color: white;
          --nebula-loader-color: yellow;
        }
        .demo3 {
          --nebula-loader-border-color: grey;
          --nebula-loader-background-color: black;
          --nebula-loader-progress-color: darkred;
          --nebula-loader-color: white;         
        }
        nebula-loader #spinner,
        nebula-loader #spinner {
          color: darkred;
        }
      </style>
    </custom-style>
  </head>
  <body>

    <nebula-iconset name="icons" size="24">
      <svg>
        <defs>
          <g id="refresh"><path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"></path></g>
        </defs>
      </svg>
    </nebula-iconset>

    <h3>Transparent Spinner</h3>
    <demo-snippet>
      <dom-bind id="demo1">
        <template>
          <nebula-loader
            id="loader1"
            icon="icons:refresh">
          </nebula-loader>
          <button on-click="show">Show Loader</button>
        </template>
      </dom-bind>
    </demo-snippet>

    <script>
      demo1.show = function(e) {
        var el = document.getElementById('loader1')
        el.show()
        setTimeout(function() {
          el.cancel()
        }, 3000)
      }
    </script>

    <h3>Spinner with Text</h3>
    <demo-snippet>
      <dom-bind id="demo2">
        <template>
          <nebula-loader
            id="loader2"
            class="demo2"
            icon="icons:refresh"
            text="Please wait... loading stuff">
          </nebula-loader>
          <button on-click="show">Show Loader</button>
        </template>
      </dom-bind>
    </demo-snippet>
    <script>
      demo2.show = function(e) {
        var el = document.getElementById('loader2')
        el.show()
        setTimeout(function() {
          el.close()
        }, 3000)
      }
    </script>

    <h3>Progress Dialog with Title (Programmatic)</h3>
    <demo-snippet>
      <dom-bind id="demo3">
        <template>
          <button on-click="show">Show Loader</button>
        </template>
      </dom-bind>
    </demo-snippet>
    <script>
      demo3.show = function(e) {
        let loader = document.createElement('nebula-loader')
        loader.classList.add('demo3')

        loader.show({
          title: 'Loading',
          progress: 0,
          text: '0%'
        })
        let interval = setInterval(function() {
          if (loader.progress < 100) {
            loader.progress = loader.progress + 10
            loader.text = loader.progress + '%'
          } else {
            clearInterval(interval)
            loader.close()
          }
        }, 500)
      }
    </script>

  </body>
</html>
